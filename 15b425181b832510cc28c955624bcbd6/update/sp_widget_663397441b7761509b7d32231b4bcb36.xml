<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function() {  /* widget controller */  var c = this;};]]></client_script>
        <controller_as>c</controller_as>
        <css>.ino-my-tickets-card {
  margin-bottom: 3rem;
  
	box-shadow: $default-box-shadow;
  
  border-radius: $default-border-radius;
  
  background-color: #FFF;
  
  padding: 2rem;
	
  h3 {
  	margin: 0;
    font-size: 18px;
    color: #5B5959;
  }
  
  ul {
  	margin-top: 2rem;
  }
}


</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>ino_my_tickets_card</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Ino My Tickets Card</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	var gr = new GlideRecord('ticket');
	gr.addEncodedQuery('opened_byDYNAMIC90d1921e5f510100a9ad2572f2b477fe^ORcreated_byDYNAMIC90d1921e5f510100a9ad2572f2b477fe^ORassigned_toDYNAMIC90d1921e5f510100a9ad2572f2b477fe');
	gr.orderByDesc('sys_created_on');
	gr.setLimit(5);
	gr.query();
	
	var results = [];
	
	while (gr.next()) {
		results.push({
			number: gr.getValue('number'),
			name: gr.getValue('short_description'),
			link: '?id=ticket&table=ticket&view=sp&sys_id=' + gr.getValue('sys_id'),
		});
	}

	data.tickets = results;
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>vinicius.lourenco@stefanini.com</sys_created_by>
        <sys_created_on>2023-06-28 13:23:41</sys_created_on>
        <sys_id>663397441b7761509b7d32231b4bcb36</sys_id>
        <sys_mod_count>28</sys_mod_count>
        <sys_name>Ino My Tickets Card</sys_name>
        <sys_package display_value="Chameleon" source="x_stefa_chameleon">15b425181b832510cc28c955624bcbd6</sys_package>
        <sys_policy/>
        <sys_scope display_value="Chameleon">15b425181b832510cc28c955624bcbd6</sys_scope>
        <sys_update_name>sp_widget_663397441b7761509b7d32231b4bcb36</sys_update_name>
        <sys_updated_by>vinicius.lourenco@stefanini.com</sys_updated_by>
        <sys_updated_on>2023-07-17 19:30:40</sys_updated_on>
        <template><![CDATA[<div class="ino-my-tickets-card">
	<h3>
    ${My Tickets}
  </h3>
  
  <ul>
    <li ng-repeat="ticket in c.data.tickets">
      <a href="{{ticket.link}}">{{ ticket.number }} - {{ticket.name||'No Description'}}</a>
    </li>
  </ul>
  
  <p ng-if="!c.data.tickets.length">
    You don't have any open tickets!
  </p>
</div>]]></template>
    </sp_widget>
</record_update>
