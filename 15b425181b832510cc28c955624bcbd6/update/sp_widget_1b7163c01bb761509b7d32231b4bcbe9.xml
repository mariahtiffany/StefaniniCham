<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($scope) {
  /* widget controller */
  var c = this;
	var CACHED_MY_STUFFS = 'CACHED_MY_STUFFS';
	
	c.editMode = false;
	c.setMode = function(mode) {
		c.editMode = mode;
	};
	c.addMore = function() {
		c.links.push({
			title: 'New Title',
			link: ''
		});
	}
	c.remove = function(item) {
		c.links = c.links.filter(function (i) {
			return i !== item;
		});
	}
	
	function saveLinks() {
		localStorage.setItem(CACHED_MY_STUFFS, JSON.stringify(c.links));
	}
	
	function getLinks() {
		var cachedLinks = localStorage.getItem(CACHED_MY_STUFFS);
		
		if (!cachedLinks) {
			return [];
		}
		
		return JSON.parse(cachedLinks);
	}
	
	c.links = getLinks();
	
	$scope.saveChanges = function () {
		saveLinks();
	};
};
]]></client_script>
        <controller_as>c</controller_as>
        <css>$secondary-color: #666!default;

.ino-my-stuffs {
  margin: 0;
	padding: 0;
  box-shadow: $default-box-shadow;
  border-radius: $default-border-radius;
  position: relative;
  background-color: #FFF;
  
  h3 {
  	margin: 0;
    font-size: 20px;
    padding: 30px 20px;
    background-color: #F7F7F7;
  }
}

.ino-my-stuffs-edit {
	position: absolute;
  right: 16px;
  top: 20px;
  height: calc(24px + 6px);
  display: flex;
  align-items: center;
  background-color: $secondary-color;
  color: #FFF !important;
  appearance: none;
  border: none;
  text-transform: uppercase;
  border-radius: $default-border-radius;
  padding: 0.8rem 1.6rem;
  
  svg {
  	width: calc(24px + 6px);
  }
}

.ino-my-stuffs-list {
	margin-top: 16px;
  list-style: none;
  padding: 0;
  margin: 0;
  
  li &gt; a {
    color: $link-color;
    font-size: 16px;
    display: flex;
    padding: 20px;
    border-top: 1px solid #EAEAEA;
  }
  
  li:first-child &gt; a {
    border: 0 none;
  }
}

.ino-my-stuffs-cards {
	display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 16px;
  padding: 16px;
  width: 100%;
}

.ino-my-stuffs-card {
  width: 100%;
	box-shadow: $default-box-shadow;
  padding: 12px;
 
  display: flex;
  flex-direction: column;
  gap: 4px;
  
  label {
  	margin-top: 4px; 
    margin-bottom: 0;
  }
  
  input {
    color: #36424F;
    border-radius: 4px;
    border: 1px solid #AEAEAE;
    background: #FFF;
    padding: 10px;
    
    &amp;:focus {
			border-width: 1px;
    }
  }
}

.ino-my-stuffs-btn {
 height: 42px;
  border-radius: 5px;
  font-size: 16px;
}

.ino-my-stuffs-btn--primary {
	background-color: #36424F;
  color: white;
  border: none;
}

.ino-my-stuffs-card-buttons {
	display: flex;
  margin-top: 8px;
  gap: 16px;
}

.ino-my-stuffs-card-buttons--delete {
  width: 100%;
}

</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>ino_dow_my_stuffs</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Ino DOW My Stuffs</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {  /* populate the 'data' object */  /* e.g., data.table = $sp.getValue('table'); */})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>vinicius.lourenco@stefanini.com</sys_created_by>
        <sys_created_on>2023-06-28 14:26:00</sys_created_on>
        <sys_id>1b7163c01bb761509b7d32231b4bcbe9</sys_id>
        <sys_mod_count>109</sys_mod_count>
        <sys_name>Ino DOW My Stuffs</sys_name>
        <sys_package display_value="Chameleon" source="x_stefa_chameleon">15b425181b832510cc28c955624bcbd6</sys_package>
        <sys_policy/>
        <sys_scope display_value="Chameleon">15b425181b832510cc28c955624bcbd6</sys_scope>
        <sys_update_name>sp_widget_1b7163c01bb761509b7d32231b4bcbe9</sys_update_name>
        <sys_updated_by>andre.nunes@stefanini.com</sys_updated_by>
        <sys_updated_on>2023-10-03 12:32:13</sys_updated_on>
        <template><![CDATA[<div class="ino-my-stuffs">
	<h3>
    ${My Favorites}
  </h3>

  <button class="ino-my-stuffs-edit ino-my-stuffs-btn" ng-click="c.setMode(!c.editMode)">
    <span ng-if="!c.editMode">${Edit}</span>
    <span ng-if="c.editMode">${Save}</span>
    
    <svg ng-if="!c.editMode" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    	<path fill="white" d="M3 17.25V21H6.75L17.7997 9.95021L14.0497 6.20031L3 17.25ZM20.7001 7.04992C21.1 6.65003 21.1 6.04989 20.7001 5.65L18.35 3.29992C17.9501 2.90003 17.35 2.90003 16.9501 3.29992L15.1 5.15003L18.85 8.89993L20.7001 7.04992Z" />
    </svg>
    
    <svg ng-if="c.editMode" xmlns="http://www.w3.org/2000/svg" title="Save" fill="none" viewBox="0 0 24 24">
      <path fill="white" d="M17.002 3h-12A2 2 0 0 0 3 5.002v14.001a2 2 0 0 0 2.002 2.002h14.001c1.102 0 2.002-.9 2.002-2.002v-12L17.002 3ZM12 18.998c-1.66 0-3-1.34-3-3 0-1.659 1.34-3 3-3s3 1.341 3 3c0 1.66-1.34 3-3 3ZM15 9H5.002V5.002H15V9Z"/>
    </svg>
  </button>
  
  <ul ng-if="!c.editMode" class="ino-my-stuffs-list">
    <li ng-repeat="item in c.links">
    	<a href="{{item.link}}" target="_blank" rel="noopener">{{item.title}}</a>
    </li>
  </ul>
  
  <div ng-if="c.editMode" class="ino-my-stuffs-cards">
    <div ng-repeat="item in c.links" class="ino-my-stuffs-card">
      <label>${Title}</label>
      <input placeholder="The title of the link" 
             onchange="angular.element(this).scope().saveChanges()"
             ng-model="item.title">

      <label>${Link}</label>
      <input placeholder="The URL of the link"
             onchange="angular.element(this).scope().saveChanges()"
             ng-model="item.link">
      
      <div class="ino-my-stuffs-card-buttons">
        <button ng-click="c.remove(item)"
                class="ino-my-stuffs-btn ino-my-stuffs-btn--outline ino-my-stuffs-card-buttons--delete">
          ${Delete}
        </button>
      </div>
    </div>

    <button ng-click="c.addMore()"
            class="ino-my-stuffs-btn ino-my-stuffs-btn--primary">
      ${Add more}
    </button>
  </div>
</div>]]></template>
    </sp_widget>
</record_update>
